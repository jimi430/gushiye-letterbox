window.onload = function() {
  // é¡¾æ—¶å¤œçš„æ—¥è®°
  const letters = [
    `æ´›å®ä»Šæ—¥çš„é›¨ä»æ™¨è‡³æš®ï¼Œæœªæ›¾åœæ­‡ã€‚é—²å€šçª—è¾¹æ—¶ï¼Œå¿½è§æ¥¼ä¸‹æœ‰ä¸€åŒäººå½±ï¼Œç¼“ç¼“è¸±è¿‡ç§¯æ°´çš„è¡—ã€‚è€å…ˆç”Ÿæ‰‹ä¸­ä¼é¢æ€»åå‘ä»–èº«ä¾§çš„è€å¦»ã€‚é›¨æ°´æµ¸é€äº†ä»–åŠè¾¹è‚©è†€ï¼Œä»–å´ä¸è§‰ï¼Œåªé¡¾ä½å¤´ä¸å¥¹çµ®è¯­ã€‚é›¨ç—•æ¨¡ç³Šäº†è§†çº¿ï¼Œææƒšé—´ï¼Œç«Ÿè§‰å¾—é‚£èƒŒå½±æ°ä¼¼ä½ æˆ‘ã€‚è‹¥æ­¤åˆ»ä½ åœ¨èº«æ—ï¼Œæˆ‘ä»¬æ˜¯å¦ä¹Ÿä¼šè¿™æ ·ï¼Œä»»ç»†é›¨æ¹¿äº†è¡£è¡«ï¼Œä»å…±æ’‘ä¸€æŠŠä¼ï¼Œæ…¢æ…¢èµ°è¿‡è¿™é•¿é•¿çš„é›¨å­£ï¼Ÿä¼šå§ã€‚ä¼šçš„ã€‚`,
    
    `ä»Šæ—¥å†›åŠ¡å†—ç¹ï¼Œæ‰¹é˜…è‡³æ›´æ·±å¤œé™æ–¹å¾—å½’ã€‚ æ¨é—¨å…¥å®¤ï¼Œå”¯è§å…¬é¦†ç©ºå»Šå¯‚å¯‚ï¼Œä¸ä¼¼å¤«äººåœ¨æ—¶ï¼Œæ€»æœ‰ä¸€ç›æš–ç¯å€™æˆ‘ã€‚å¤œé˜‘äººé™ï¼Œå°¤å¿µå¿å¿ã€‚è‹¥å¤«äººè¿‘æ—¥å¾—é—²æš‡ï¼Œç›¼è§å›ä¿¡ï¼ŒèŠæ…°ç›¸æ€ã€‚`,
    
    `ä»Šæ—¥å¾—é—²ï¼Œç‰¹å»äº†ä½ æˆ‘æ—§æ—¶å¸¸è®¿çš„é‚£å®¶è¡£é¦†ã€‚æŒ‰ä½ çš„å°ºå¯¸ï¼Œå°†æ´›å®æ—¶å…´çš„æ¬¾å¼ä¸€ä¸€è®¢åˆ¶ã€‚å®¶ä¸­è¯•è¡£é˜å·²æ¸æ— éš™åœ°ï¼Œå”¯å¾…å¤«äººå½’æ¥æ—¶ï¼Œç¯ä¸‹æ¯”è‚©ï¼Œç»†æŒ‘æ…¢é€‰ã€‚`,
    
   `ä»Šå¤©æƒ³äº†è®¸å¤šï¼Œæƒ³æ²¡é‡åˆ°ä½ ä¹‹å‰ä¼¼ä¹æˆ‘å¯¹äºå²æœˆæµé€ä¸ç”šåœ¨æ„ï¼Œä½†é‡åˆ°ä½ ä¹‹åæ‰æƒŠè§‰æ‰€è°“æ—¶é—´ä¸åªæ˜¯ä¸€ä¸ªæŠ½è±¡çš„åè¯ï¼Œå®ƒå› ä¸ºåœ¨æ„çš„äººè€Œæœ‰ç€ä¸åŒçš„æ„ä¹‰ã€‚å’Œä½ åœ¨ä¸€èµ·æ—¶ï¼Œæˆ‘æ€»åœ¨ç¥ˆç›¼æ—¶é—´æµé€çš„æ…¢äº›ï¼Œç­‰å¾…ä½ æ—¶ï¼Œèƒ½æ„Ÿå—åˆ°å››æ—¶é£ç‰©ä¸æ—¶é—´çš„ç©ºå¯‚ã€‚
    ä¸€è¨€ä¹‹ï¼Œä¸è¿‡æ˜¯å²æœˆæ¼«é•¿ã€‚
æ´›å®çš„ç§‹å¤©æ€»æ˜¯æ¥å¾—å¾ˆçªç„¶ã€‚å¤©æ°”è™½ç„¶è¿˜æ˜¯ç‚çƒ­å¦‚å¸¸ï¼Œä½†åˆ‡å¿Œè´ªå‡‰ï¼Œè¥¿ç“œç­‰ç‰©æ€§å¯’ï¼Œæˆ‘ä¸åœ¨èº«è¾¹ï¼Œä½ æ€»æ˜¯è¦å¤šå…³ç…§ç€äº›è‡ªå·±ï¼Œä¸è¦å¤šé£Ÿã€‚
æ˜¨æ—¥å»æ´›å®å¤§å­¦å•†è®®äº›äº‹æƒ…ï¼Œèµ°åœ¨è·¯ä¸Šæ—¶çœ‹è§äº†æ ¡å›­é‡Œçš„æ«æ ‘ã€‚ç°åœ¨æ‰å…«æœˆï¼Œç¦»æ«å¶çº¢èµ·æ¥çš„æ—¥å­è¿˜æ—©ï¼Œä½†æˆ‘è¿˜æ˜¯æŠ˜äº†ä¸€ç‰‡å¶å­ï¼Œå¤¹åœ¨äº†å»å¹´ä½ å¸¸çœ‹çš„çš„é‚£æœ¬ä¹¦é‡Œã€‚å¤æ—¥çš„é£æ··ç€ç‡¥çƒ­å’Œè‰é¸£ï¼Œå¹è¿‡æ ‘æ¢¢çš„æ—¶å€™å¯ä»¥æ‘‡æ™ƒç€æ«å¶æŠŠé˜³å…‰åˆ‡å‰²æˆç ´ç¢çš„å…‰å½±ã€‚
ä»Šå¹´çš„è‘¡è„å¾ˆç”œï¼Œå›æ¥è‹¥æ˜¯æƒ³åƒï¼Œå«äººå»æ‹¿ä¾¿æ˜¯ã€‚`,
    
    `ä»Šæ—¥åˆä¼‘æ—¶å¶ç„¶å¬è§æ‰‹ä¸‹çš„äººè¯´å®¶é‡Œå­©å­ä¸æ‡‚äº‹ï¼Œé—¹ç€å»åŒ—é™†æœ€åŒ—çš„è’åŸçœ‹æå…‰ã€‚åé¢ä»–ä¼¼ä¹è¿˜æœ‰ä»€ä¹ˆè¦è¯´çš„ï¼Œåªæ˜¯çœ‹æˆ‘ä½å¤´ä¸è¯´è¯å¿™å™¤äº†å£°ã€‚
å…¶å®ï¼Œæˆ‘æ˜¯åœ¨æƒ³ä¸Šæ¬¡æˆ‘ä»¬ä¸€èµ·å»çœ‹åˆ°çš„æ™¯è‰²ã€‚
é‚£é‡Œè®¸æ„¿çš„ç¡®å¾ˆçµéªŒã€‚å¯èƒ½æ˜¯å› ä¸ºäººè¿¹ç½•è‡³ï¼Œå››ä¸‹ä¸‡ç±æ— å£°ï¼Œæ‰€ä»¥ç¥æ˜æ›´èƒ½å¬è§ä¿¡å¾’çš„ç¥ˆæ„¿ã€‚è®¸å¤šå¹´å‰æˆ‘æ›¾è‡ªå·±æ¥è¿‡ä¸€æ¬¡ï¼Œé‚£æ¬¡ç›®å…‰æ‰€åŠéå¸ƒè†æ£˜ç™½é›ªï¼Œé¡¾æŸæ²¡æœ‰æƒ³è¿‡å¿ƒä¸­æ‰€å¿µæœ‰ä¸€å¤©èƒ½å®ç°ã€‚ä»è¿™ç‚¹æ¥çœ‹ï¼Œçš„ç¡®è¦æ„Ÿè°¢ç¥æ˜ã€‚
è‡³äºä½ çš„æ„¿æœ›ï¼Œä¸å¿…ç­‰å¾…ç¥æ˜å¬è§ï¼Œæˆ‘ä¼šå¸®ä½ ä¸€ä¸€å®ç°ã€‚`,
  
    `æ˜¨å¤œæ¢¦åˆ°äº†å»å¹´ç”Ÿæ—¥æ—¶ï¼Œå¤«äººååœ¨æš–æ°”å¼€è¶³äº†çš„è½¦é‡Œçš„æƒ…æ™¯ï¼Œä¹Ÿåˆä¸€æ¬¡ç¥è§äº†å¤«äººæ‚„æ‚„åœ¨è½¦çª—å‡å‡ºçš„é›¾æ°”ä¸Šå‹¾ç”»äººåƒçš„åœºæ™¯ã€‚æ¢¦å¢ƒå°±æ˜¯æ¢¦å¢ƒï¼Œæ¯”ä¸å¾—ç°å®ï¼Œæˆ‘åˆ†æ˜æ˜¯è®°å¾—ä½ çš„çœ‰çœ¼ï¼Œå¯æ˜¨å¤œæ¢¦ä¸­ï¼Œä½ çš„å®¹é¢œå´åƒæ˜¯è’™ç€ä¸€å±‚çº±é›¾ä¼¼çš„å«äººçœ‹ä¸æ¸…â€¦â€¦
æˆ–è®¸æ˜¯å†…å¿ƒçš„æŒ‡å¼•ï¼Œæˆ‘ä¼¸å‡ºæ‰‹åœ¨çª—æˆ·ä¸Šæ»‘åŠ¨èµ·æ¥ï¼Œä¹Ÿç”»äº†ä½ ã€‚ä½ å—”æ€ªæˆ‘ç”»çš„å°åƒå¤´ä¸Šåªæœ‰ä¸‰æ ¹å¤´å‘ï¼Œä½†å´è§‰å¾—è¿™æ ·è·Ÿå¤«äººä¸€æ ·å¾ˆç”ŸåŠ¨ï¼Œå¾ˆå¯çˆ±ã€‚
é å¾—å¤ªè¿‘äº†â€¦â€¦æ˜æ˜æ˜¯æ¢¦å¢ƒï¼Œæ€çš„è·Ÿé‚£æ—¥ä¸€æ ·ï¼Œæˆ‘æ„Ÿå—åˆ°äº†ä½ æ¸…æµ…çš„å‘¼å¸é“ºåœ¨é¢ä¸Šï¼Œæ¸©è½¯çš„èº«å­å°±è¿™æ ·æ¯«ä¸è®¾é˜²çš„å€šåœ¨æˆ‘æ€€é‡Œã€‚ç©ç¬‘ä¼¼ä¹å˜äº†å‘³ï¼Œæˆ‘çš„è§†çº¿ä»å”‡ä¸Šç§»åˆ°ä½ çš„çœ¼çœ¸ï¼Œæƒ³çŸ¥é“é‚£é‡Œæ˜¯ä¸æ˜¯ä¹Ÿå› æˆ‘è€Œæ²¾æŸ“ä¸Šäº†äº›è®¸ä¸åŒçš„é¢œè‰²ã€‚å¯æ˜¯æ¢¦å°±è¿™æ ·é†’äº†ã€‚
çå¼€æœ‰äº›é…¸æ¶©çš„çœ¼ï¼Œè§†çº¿å†…æ˜¯ç©ºç©ºè¡è¡çš„é¡¾å…¬é¦†ã€‚åºŠå¤´æ–°æ‚¬äº†ä¸€ä¸ªé¦™å›Šï¼Œé‡Œé¢è£…ç€çš„æ˜¯ä½ ç¦»å¼€é‚£æ—¥æŠ˜ä¸‹çš„èŠ±ã€‚é²œèŠ±ä¹…ç•™ä¸å¾—ã€‚æˆ‘è·Ÿç¿ å«‚å­¦ç€åˆ¶æˆäº†å¹²èŠ±ï¼Œè€ŒåæŠŠèŠ±è£…è¿›äº†é¦™å›Šã€‚ç¬¬ä¸€æ¬¡åšï¼Œä¸å°å¿ƒæç¢äº†ä¸€äº›ã€‚é¦™å›Šæ°”å‘³æ•£çš„å·®ä¸å¤šæ—¶ï¼Œå¤«äººå¤§çº¦å°±è¦å›æ¥äº†å§ã€‚
  åˆ°æ—¶æˆ‘ä»¬å†ä¸€èµ·åšä¸€ä¸ªæ›´å¥½çš„ï¼Œå¥½ä¸å¥½ã€‚`,
  
    `å†›ä¸­æ—¥å­å¾ˆæ¼«é•¿ï¼Œé›¨å£°å¾ˆå¤§ï¼Œå°†å£«ä»¬çš„è¡£ç‰©å·²ç»å¤‡å¥½ï¼Œä¸å¿…æ‹…å¿ƒã€‚æƒ³æˆ‘çš„è¯å¯ä»¥åœ¨æ™šé¥­çš„æ—¶å€™ç»™æˆ‘æ‰“ç”µè¯ï¼Œæˆ‘å’Œä½ åƒé¥­çš„æ—¶é—´æ˜¯ä¸€æ ·çš„ã€‚æˆ‘ä¸åœ¨å®¶çš„è¿™æ®µæ—¶é—´ï¼Œå¤«äººè¿˜å¥½å—ï¼Ÿæœ‰æ²¡æœ‰ä¹°åˆ°æƒ³è¦çš„ä¸œè¥¿ï¼Œæœ‰æ²¡æœ‰æŒ‰æ—¶åƒé¥­ï¼Œç†¬å¤œçš„è¯æˆ‘ä¹Ÿä¸èƒ½ç›‘ç£ä½ ã€‚
ç­‰è¿‡äº†è¿™ä¸ªé›¨å­£ï¼Œé©¬åœºä¸Šçš„é›¨æ°´ä¹Ÿä¼šå°‘å¾ˆå¤šï¼Œæ–°çš„å°é©¬é©¹ä¹Ÿä¼šå‡ºç”Ÿã€‚åŒ—åœ°äº¦æœ‰èŠ±å¼€ï¼Œæ˜¯åˆ«çš„åœ°æ–¹çœ‹ä¸åˆ°çš„å“ç§ï¼Œæˆ‘ä¼šå¸¦ç€å®ƒå›æ¥è§ä½ ï¼Œèµ¶åœ¨æ˜¥æš–èŠ±å¼€ä¹‹å‰ã€‚
æœ‰ä¸ªä¸‹å±è¯´ä»–æ‰“äº†èƒœä»—å›å»ä¹‹åè¦æ±‚å©šï¼Œå¥½å¤šäººéƒ½åœ¨èµ·å“„ï¼Œä»–è¯´æƒ³ç”¨è¿™æ¬¡çš„å†›åŠŸæ¥æ¢å–æˆ‘åšè§è¯ï¼Œæˆ‘ç­”åº”äº†ã€‚è¿™ç¾¤äººçªç„¶å°±æ¬¢å‘¼äº†èµ·æ¥ï¼Œå†²è¿›äº†é›¨ä¸­ï¼Œé£å£°å°†ä»–ä»¬å…´å¥‹çš„å–Šå«æ‹‰çš„å¾ˆè¿œã€‚å—¯ï¼Œä½ ä¹ŸåŒå»ã€‚å†›ä¸­æœ‰é…’ï¼Œå¹³æ—¶ä¸¥æ ¼ç®¡æ§ä¸å¯é¥®é…’ï¼Œä¸è¿‡ä»Šå¤©å¯ä»¥å–ä¸€ç‚¹ã€‚åœ¨æ”¯èµ·çš„å¸ç¯·é‡Œï¼ŒåŠå¤§çš„å°å­å‹¾ç€å½¼æ­¤çš„è‚©è†€å”±ç€å®¶ä¹¡çš„æ­Œï¼Œè°éƒ½æ²¡æœ‰è¯´ï¼Œä½†æ˜¯ä»–ä»¬æƒ³å®¶ã€‚å¤–é¢ä¸‹ç€é›¨ï¼Œè´¦å†…åœ¨æ¬¢åº†ï¼Œçƒ­æ°”æ‹æ‰“åœ¨æ¯ä¸ªäººçš„è„¸ä¸Šã€‚æˆ‘ä¹Ÿæ‹¿äº†ä¸€ç¢—æ¸©çƒ­çš„é…’åº¦æ•°å¹¶ä¸é«˜ï¼Œåªæ˜¯ç”¨ä½œå–æš–ã€‚æ˜¯åœ¨è¡Œå†›è·¯ä¸Šä»ä¸åŒçš„æ‘è½é‡Œä¹°çš„ï¼Œå‘³é“ä¹Ÿä¸€èˆ¬ã€‚æˆ‘åªæ˜¯ï¼Œååœ¨äººç¾¤ä¸­ï¼Œä¸€å£ä¸€å£å’½ä¸‹ï¼Œè¿åŒå¯¹ä½ çš„æ€å¿µä¸€å¹¶å«è¿›å˜´é‡Œï¼Œèå…¥èº«ä½“ã€‚
æˆ‘æƒ³ä½ ã€‚`,
    
    `ä»Šæ—¥å¤„ç†äº†å•†ä¼šè´¦ç›®ï¼Œåˆå»ç å¤´çœ‹äº†æ–°åˆ°çš„è´§ã€‚é›ªå¾ˆå¤§ï¼Œè·¯è¿‡é“¶æ¥¼æ—¶çœ‹è§ä¸€æ”¯ç™½ç‰ç°ªï¼Œæˆè‰²ä¸é”™ï¼Œå·²è®©äººåŒ…å¥½ã€‚
ä½ ä¸Šæ¬¡è¯´å–œæ¬¢æ¢¨è†ç³–ï¼Œæ˜æ—¥å·®äººé€äº›è¿‡å»ã€‚
å¤«äººï¼Œè¿‘æ—¥ä¸€åˆ‡å¦‚å¸¸ï¼Œåªæ˜¯ä¹¦æˆ¿ç©ºäº†äº›ã€‚`,

    `å†›åŠ¡å†—æ‚ï¼Œæ·±å¤œæ–¹å½’ã€‚
è·¯è¿‡è¥¿è¡—ï¼Œæ¡‚èŠ±å¼€äº†ã€‚`,

    `æ•´æ—¥ä¼šè®®ã€‚
èŒ¶å‡‰äº†ä¸‰æ¬¡ã€‚
â€¦â€¦
æˆ‘å¥½æƒ³ä½ ã€‚`,

    `æ”¶åˆ°ä½ å¯„çš„ä¿¡ã€‚
è¿‘æ—¥é£å¤§ï¼Œç¿ å«‚ç€äººæ·»äº†è¡£ç‰©ï¼Œä¸€åˆ‡å®‰å¥½ã€‚
ä½ ä¹Ÿè®°å¾—æ·»è¡£ï¼Œç­‰ä½ å›æ¥ã€‚`,

    `æ™¨èµ·æ—¶è§çª—æ£‚ç»“éœœï¼Œæƒ³èµ·ä½ æ€»çˆ±åœ¨è¿™ç§å¤©æ°”èµ–åºŠã€‚æ—©è†³è®©å¨æˆ¿å¤‡äº†é…’é…¿åœ†å­ï¼Œè‹¥ä½ åœ¨ï¼Œå¤§çº¦ä¼šå«Œç³–å°‘ã€‚
åˆé—´å·¡è§†æ–°å†›è¥æˆ¿ï¼Œå£«å…µæ“ç»ƒæ—¶å‘µå‡ºçš„ç™½æ°”è¿æˆä¸€ç‰‡ã€‚æœ‰ä¸ªå°ä¼™å­è¢–å£ç ´äº†ï¼Œé’ˆè„šæ­ªæ–œåœ°ç¼ç€ï¼Œå¿½ç„¶è®°èµ·ä½ ä¸Šæ¬¡æ›¿æˆ‘è¡¥å¤§è¡£æ—¶ï¼Œä¹Ÿæ˜¯è¿™èˆ¬ç¬¨æ‹™åˆè®¤çœŸã€‚å›æ¥ä¾¿å©å’åå‹¤å¤„åŠ å‘æ–°è£…ã€‚
å‚æ™šè·¯è¿‡èŒ¶æ¥¼ï¼ŒäºŒæ¥¼é›…åº§æœ‰äººå”±ã€Šæ¸¸å›­æƒŠæ¢¦ã€‹ã€‚ç«™äº†ç‰‡åˆ»ï¼Œç­ä¸»è®¤å‡ºæˆ‘æ¥ï¼Œç¡¬è¦è¯·è¿›å»å¬å…¨åœºã€‚å©‰æ‹’æ—¶ç¥è§æ¡ˆä¸Šæ‘†ç€ä½ å¸¸ç‚¹çš„æä»é…¥ï¼Œæ²¹çº¸åŒ…ç€å¸¦äº†å›æ¥ã€‚
å…¥å¤œåçœ‹äº†ä¸¤å°æ¸å·æ¥ä¿¡ã€‚ä½ ä¸Šæ¬¡æè¿‡çš„æ´‹è¡Œè‚¡ç¥¨ï¼Œä»Šæ—¥æ¶¨äº†ä¸‰æˆã€‚
ç‚­ç¬”å¿«ç”¨å®Œäº†ï¼Œä½ ä»€ä¹ˆæ—¶å€™å›æ¥ï¼Ÿ`,

    `ä»Šæ—¥éš¾å¾—æ¸…é—²ï¼Œå»åŸéƒŠé©¬åœºè·‘äº†ä¸¤åœˆã€‚é‚£åŒ¹æˆ‘åŒä½ å¸¸éª‘çš„æ£çº¢é©¬èƒ–äº†äº›ï¼Œé©¯é©¬å¸ˆè¯´å®ƒæ€»å·åƒç‡•éº¦ã€‚å›ç¨‹æ—¶ç»•é“å»äº†è¶Ÿè¥¿å±±çš„æ¢…æ—ï¼Œæå¤´åˆšç»“èŠ±è‹ï¼Œå†å†·äº›å°±è¯¥å¼€äº†ã€‚è‹¥ä½ åœ¨è¿™é‡Œï¼Œå¤§æ¦‚åˆè¦æŠ˜å‡ ææ’ç“¶ï¼Œè¯´æ˜¯ä¹¦æˆ¿å¤ªæ²‰é—·ã€‚
åˆåè£ç¼æ¥é‡è¡£æœå°ºå¯¸ï¼Œå¸¦äº†æ–°åˆ°çš„æ–™å­ã€‚é‚£æ ¼çº¹é¢œè‰²çš„æ–™å­å¾ˆè¡¬ä½ ï¼Œä¾¿å¤šè®¢äº†ä¸€å¥—ã€‚è·¯è¿‡é’Ÿè¡¨è¡Œæ—¶ï¼Œä¿®æ€€è¡¨çš„è€åŒ äººé—®èµ·ä½ æ€ä¹ˆè®¸ä¹…ä¸æ¥â€”â€”ä½ ä¸Šæ¬¡æŠ±æ€¨è¡¨é“¾å¤ªæ—§è¯´è¦ç»™æˆ‘ä¹°æ¡æ–°çš„ï¼Œä»–ç‰¹æ„ç•™äº†æ¡ç±³å…°å¸¦çš„ï¼Œè¡¨é“¾æœ‰äº†ï¼Œä½ å´ä¸åœ¨æˆ‘èº«è¾¹ã€‚
æ™šé—´æ”¶åˆ°å—äº¬æ—§å‹æ¥ä¿¡ï¼Œé‚€æˆ‘å»å¬ä¸‹æœˆçš„å¾·å›½äº¤å“ä¹å›¢ã€‚æ¼”å‡ºå•ä¸Šæœ‰ä½ å…ˆå‰æè¿‡çš„æˆï¼Œå·²è®©å‰¯å®˜è®¢äº†ç›¸é‚»çš„åŒ…å¢ã€‚
ä¸´ç¡å‰å‘ç°ä¹¦æˆ¿æŠ½å±‰é‡Œå‰©ç€åŠç›’ä½ è½ä¸‹çš„å‘å¤¹ã€‚
æˆ‘å»æ‰¾ä½ å¥½ä¸å¥½
å¤©é˜´ï¼Œæ˜æ—¥æˆ–è®¸æœ‰é›¨ã€‚`,

    `ä»Šæ—¥è·¯è¿‡é•¿æ˜è¡—ï¼Œè§ä¸€å­©ç«¥è¹²åœ¨ç³–ç”»æ‘Šå‰ï¼Œæ‰ç€ä¸ä½ ç›¸ä¼¼çš„åŒé«»ã€‚æ‘Šä¸»ç”»å‡¤å‡°æ—¶ï¼Œå¥¹è¸®è„šçš„æ¨¡æ ·è®©æˆ‘å¤šçœ‹äº†ä¸¤çœ¼ã€‚
ä½ è‹¥åœ¨ï¼Œå¤§çº¦ä¹Ÿä¼šè¿™èˆ¬è¸®è„šçœ‹ç³–ç”»ï¼Œé‚£æ ·æ˜åªšã€‚
ä¸çŸ¥ã€‚
å¤§æŠµæˆ‘ä¼šå§ã€‚`,

    `ä»Šæ—¥å‰çº¿æ·æŠ¥ï¼Œä¸‰é•‡å›å†›å·²é™ã€‚å°†å£«ä»¬å£«æ°”å¾ˆç››ï¼Œç¼´è·çš„å†›æ¢°é‡Œæœ‰ä¸¤æŠŠé•¶è´çš„å‹ƒæœ—å®ï¼ŒæªæŸ„ç¼ ç€çº¢ç»¸ã€‚å…¶ä¸­ä¸€æŠŠå‡†æ˜Ÿç•¥åï¼Œä½†æ¡æŠŠå¼§åº¦åˆä½ çš„æ‰‹å‹ã€‚
åº†åŠŸå®´ä¸Šç‚Šäº‹ç­ç‚–äº†ç¾Šè‚‰ï¼Œå‚è°‹å¤„çš„å°å­ä»¬èµ·å“„è¦æˆ‘è®²è¯ã€‚åªè¯´äº†å¥â€œå¤©å†·ï¼Œéƒ½åƒé¥±â€ï¼Œä»–ä»¬åå€’é¼“æŒæ›´å“ã€‚ä½ è‹¥åœ¨åœºï¼Œå¤§æ¦‚åˆè¦ç¬‘æˆ‘å¯¡è¨€ã€‚
æˆ˜åæ¸…ç†æ—¶ï¼Œåœ¨æ•Œæ–¹æŒ‡æŒ¥æ‰€æ‰¾åˆ°ç›’æœªæ‹†çš„å·§å…‹åŠ›ï¼Œé”¡çº¸å°ç€èœ‚é¸Ÿå›¾æ¡ˆã€‚
æ”¾ä½ æ¢³å¦†å°æŠ½å±‰é‡Œäº†ã€‚`,

    `å¯…æ—¶ä¸‰åˆ»é†’äº†ã€‚
çª—å¤–æœ‰é›¨ç°Œç°Œå£°ï¼Œèµ·æ¥çœ‹äº†ä¼šï¼Œå‘ç°æ˜¯é£æ‘‡ç«¹æã€‚
ä½ æ€»è¯´æ•å¤´å¤ªé«˜ï¼Œä»Šå¤œè¯•äº†ä½ çš„è½¯æ•ï¼Œç¡®å®ä¸æƒ¯ã€‚`,

    `è¿‘æ—¥è¯¸äº‹å¹³é¡ºã€‚å•†ä¼šæ–°åˆ°çš„èŒ¶å¶å°è¿‡äº†ï¼Œä¸å¦‚ä½ æ²çš„ã€‚ç¿ å«‚ç¬‘è¯´æˆ‘å˜´åˆï¼Œä¸æ˜¯å“èŒ¶è€Œæ˜¯å“æ²èŒ¶çš„äººã€‚
åŒ…æ‰å¾ˆå¥½ï¼Œä¼¤å£æ²¡å†ç–¼ã€‚
å‹¿å¿µã€‚`,

    `ä»Šæ—¥å¤„ç†äº†å‡ æ¡©å…¬äº‹ï¼Œè§äº†æ—§éƒ¨ï¼Œè°ˆåŠè¾¹å¢ƒç²®é“äº‹å®œã€‚åˆåæ‰¹é˜…æ–‡ä¹¦ï¼Œå®‰é™è®¸å¤šã€‚
ä½ è¿œåœ¨å¤–å¤´ï¼ŒéŸ³è®¯éš¾å¾—ã€‚å†™ä¿¡ç»™ä½ å·²æˆä¹ æƒ¯ï¼Œä»Šæ—¥æ— ç”šæ–°äº‹ï¼Œåªè§‰é™¢ä¸­æ ¼å¤–å¯‚é™ã€‚é¥­åå–å‡ºä½ ä»¥å‰çˆ±ç”¨çš„èŒ¶ç›ï¼Œå€’ä¹Ÿä¸è§‰è‹¦æ¶©ï¼Œåå€’å®‰ç¨³ã€‚
ä½ åœ¨é‚£è¾¹æ˜¯å¦å®‰å¥½ï¼Ÿ
ä½™æ— ä»–äº‹ã€‚æ„¿ä¸€åˆ‡é¡ºé‚ã€‚`,

    `ä»Šæ—¥èµ·æ—©ï¼Œå¤©è‰²æœªäº®å·²æœ‰äººæ¥æŠ¥ã€‚å¤„ç†äº†å‡ æ¡©æ—§æ¡ˆï¼Œä½™ä¸‹æ—¶é—´æŸ¥äº†äº›è´¦æœ¬ï¼Œå€’ä¹Ÿå¹³é™ã€‚
åˆåæœ‰äººé€äº†ä¸¤æœ¬æ–°ä¹¦æ¥ï¼Œæ˜¯ä½ ä»¥å‰å¶å°”æè¿‡çš„é‚£å‡ æœ¬ã€‚ç¿»äº†å‡ é¡µï¼Œæ€»è§‰èº«è¾¹å°‘ä¸ªäººé—®ä¸€å¥â€œå¥½çœ‹å—â€ã€‚æƒ³èµ·ä½ åœ¨çš„æ—¶å€™ï¼Œæ€»ä¼šéšæ‰‹é€’èŒ¶è¿‡æ¥ï¼Œé—®æˆ‘æƒ³åƒä»€ä¹ˆã€‚
ä½ é‚£è¾¹å¤©æ°”å¦‚ä½•ï¼Ÿæ´›å·æœ€è¿‘å¤šé›¨ï¼Œå¤œé‡Œé™¢é‡Œæ½®æ°”é‡äº†äº›ã€‚ä½ ä¸åœ¨ï¼Œæ€»è§‰å¾—å±‹å­ç©ºäº†ï¼ŒèŒ¶ä¹Ÿæ·¡äº†ã€‚
è«è¦å¤ªç´¯ã€‚è‹¥æƒ³å®¶ï¼Œå†™ä¿¡æ¥ä¾¿æ˜¯ã€‚`,

    `ä»Šæ—¥æŸ¥é˜…åŸå†…å•†è´¾çš„å¸å†Œï¼Œé‡åˆ°äº›å°äº‹ï¼Œå€’æ²¡ä»€ä¹ˆå¤§ç¢ã€‚é¥­ååœ¨å»Šä¸‹åäº†ä¼šå„¿ï¼Œæœ›è§æ¡‚æ ‘æŠ½æ–°èŠ½ï¼Œå¿ƒé‡Œéš¾å¾—æ¾äº†å£æ°”ã€‚
ä½ é‚£è¾¹å¯è¿˜é¡ºå¿ƒï¼Ÿè¿™äº›æ—¥å­æ€»æ¢¦è§ä½ ï¼Œè¯´ç¬‘å¦‚å¸¸ï¼Œé†’æ¥å´åªä½™å†·æ¸…ã€‚ä½ è‹¥å¶å°”æƒ³èµ·æˆ‘ï¼Œåˆ«åå•¬å›ä¿¡ã€‚
ä½ å®‰å¿ƒåœ¨å¤–ï¼Œä¸å¿…æ‹…å¿ƒåºœé‡Œä¸€åˆ‡ã€‚ç­‰ä½ å›æ¥æ—¶ï¼Œæ´›å·å·²æ— äº‹ï¼Œå®‰ç¨³å¦‚åˆã€‚`,

    `ä»Šæ—¥ä¸æ—§å‹å°èšï¼Œè°ˆäº†äº›é™ˆå¹´å¾€äº‹ã€‚ä¼—äººæ•£å»åï¼Œç‹¬è‡ªä¸€äººå›åºœã€‚æ¡Œä¸Šè¿˜æ˜¯ä½ æ›¾æ”¶æ‹¾çš„æ¨¡æ ·ï¼ŒåŠ¨ä¹ŸæœªåŠ¨ã€‚
æ—¶å¸¸è®°èµ·ä½ è¯´çš„è¯ã€‚ä½ æ€»å«Œæˆ‘è¯å°‘ï¼Œå…¶å®æœ‰äº›è¯ï¼Œä¸çŸ¥æ€ä¹ˆå¼€å£ã€‚ä½ ä¸åœ¨ï¼Œæ—¥å­ä¹Ÿå°±ä¸€æ—¥æ—¥è¿‡å»ï¼Œæ²¡ä»€ä¹ˆå¤§èµ·å¤§è½ã€‚åªæ˜¯å®‰é™ä¸‹æ¥æ—¶ï¼Œå¿ƒé‡Œéš¾å…ç©ºè½ã€‚`
  ];

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ä¿¡ä»¶é€»è¾‘â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // æ´—ç‰Œå‡½æ•°
  function shuffle(arr) {
    let a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      let j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }
  let shuffledLetters = shuffle(letters);
  let currIdx = 0;
  function getRandomLetter() {
    if (currIdx >= shuffledLetters.length) {
      shuffledLetters = shuffle(letters);
      currIdx = 0;
    }
    return shuffledLetters[currIdx++];
  }
  function formatDate() {
    const d = new Date();
    return `${d.getMonth()+1}æœˆ${d.getDate()}æ—¥`;
  }

  // å›¾ç‰‡é“¾æ¥
  const mailboxWithBird = "https://raw.githubusercontent.com/jimi430/gushiye-letterbox/refs/heads/main/f4614f1a7d046878cf90e4c38f1cc70a.jpeg";
  const mailboxOnly     = "https://raw.githubusercontent.com/jimi430/gushiye-letterbox/refs/heads/main/IMG_8396.jpeg";
  function updateBird(status) {
    const bird = document.getElementById("birdImg");
    if (status === "hasMail") bird.src = mailboxWithBird;
    else bird.src = mailboxOnly;
  }

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ä¿¡ä»¶æŒ‰é’®â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // è®°å½•æœ€è¿‘ä¸€æ¬¡ AI å›ä¿¡å†…å®¹
let lastAiReply = "";
  document.getElementById("getMailBtn").onclick = function() {
    const letter = getRandomLetter();
    document.getElementById("letterDate").innerText = `${formatDate()} é¡¾æ—¶å¤œæ¥ä¿¡`;
    document.getElementById("letterContent").innerText = letter;
    document.getElementById("mailArea").style.display = "block";
    document.getElementById("sendArea").style.display = "none";
    updateBird("noMail");
    document.getElementById("moodArea").style.display = "block";
    document.getElementById("moodResult").innerText = "";
    document.querySelectorAll('.mood-btn').forEach(btn=>btn.classList.remove('active'));
  };
  document.getElementById("sendMailBtn").onclick = function() {
    document.getElementById("mailArea").style.display = "none";
    document.getElementById("sendArea").style.display = "block";
    document.getElementById("submitResult").innerText = "";
    updateBird("hasMail");
    document.getElementById("moodArea").style.display = "none";
  };
  document.getElementById("submitLetterBtn").onclick = function() {
    const val = document.getElementById("myLetter").value.trim();
    if (!val) {
      document.getElementById("submitResult").innerText = "ä¿¡çº¸è¿˜æ˜¯ç©ºçš„å“¦ï½å†™ç‚¹ä»€ä¹ˆç»™é¡¾æ—¶å¤œå§ï¼";
      return;
    }
    document.getElementById("submitResult").innerText = "ä¿¡ä»¶å·²æŠ•é€’ï¼Œé¡¾æ—¶å¤œä¸€å®šä¼šå·å·è¯»åˆ°ä½ çš„å¿ƒäº‹ã€‚";
    document.getElementById("myLetter").value = "";
    // ä¿å­˜åˆ°æœ¬åœ°
    let myLetters = JSON.parse(localStorage.getItem('myLetters') || '[]');
    myLetters.push({ date: new Date().toISOString(), content: val });
    localStorage.setItem('myLetters', JSON.stringify(myLetters));
  };
  document.getElementById('showMyLettersBtn').onclick = function() {
    let myLetters = JSON.parse(localStorage.getItem('myLetters') || '[]');
    if (myLetters.length === 0) {
      alert('ä½ è¿˜æ²¡å†™è¿‡ä¿¡å“¦ï½');
      return;
    }
    let msg = myLetters.map(l => {
      let d = new Date(l.date);
      return `${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}ï¼š\n${l.content}`;
    }).join('\n\nâ€”â€”â€”â€”â€”â€”\n\n');
    alert(msg);
  };
async function askGushiye(text) {
  const res = await fetch('https://gushiye-letterbox.vercel.app/api/reply', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ text })
  });
  const data = await res.json();
  if (!res.ok) throw new Error(data.error || 'ç½‘ç»œé”™è¯¯');
  return data.reply;
}

const aiBtn = document.getElementById('aiReplyBtn');
if (aiBtn) {
  aiBtn.onclick = async function () {
  const input = document.getElementById('myLetter');
  const val = (input?.value || '').trim();
  if (!val) {
    alert('å…ˆå†™ç‚¹å†…å®¹å†è®©é¡¾æ—¶å¤œå›ä¿¡å§ï½');
    return;
  }

  const box = document.getElementById('aiReplyResult') || document.getElementById('moodResult');
  box.textContent = 'é¡¾æ—¶å¤œæ­£åœ¨è˜¸å¢¨å›ä¿¡â€¦';

  try {
    const reply = await askGushiye(val);
    box.textContent = reply;

    // ğŸŸ¢ ä¿å­˜ç”¨æˆ·å†™çš„ä¿¡ + AI å›ä¿¡
    let myLetters = JSON.parse(localStorage.getItem('myLetters') || '[]');
    myLetters.push({
      date: new Date().toISOString(),
      content: "ã€æˆ‘å†™çš„ã€‘" + val + "\nã€é¡¾æ—¶å¤œå›ä¿¡ã€‘" + reply
    });
    localStorage.setItem('myLetters', JSON.stringify(myLetters));

  } catch (e) {
    box.textContent = 'æŠ±æ­‰ï¼Œå›ä¿¡å¤±è´¥å•¦ï¼ˆç¨åå†è¯•ï¼‰';
    console.error(e);
  }
};
  // æŸ¥çœ‹å›ä¿¡å¤¹
const showBoxBtn = document.getElementById('showAiRepliesBtn');
if (showBoxBtn) {
  showBoxBtn.onclick = function () {
    const box = JSON.parse(localStorage.getItem('aiReplies') || '[]');
    if (!box.length) {
      alert('å›ä¿¡å¤¹è¿˜ç©ºç€ã€‚å…ˆè®©é¡¾æ—¶å¤œå›ä¸€å°å§ã€‚');
      return;
    }
    const msg = box.map((item, idx) => {
      const d = new Date(item.date);
      const dateStr = `${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()} ${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}`;
      const related = item.related ? `ï¼ˆä½ çš„æ¥ä¿¡èŠ‚é€‰ï¼š${item.related.slice(0,24)}â€¦ï¼‰` : '';
      return `ã€ç¬¬${idx+1}å°ã€‘${dateStr}\n${item.reply}\n${related}`;
    }).join('\n\nâ€”â€”â€”â€”â€”â€”\n\n');
    alert(msg);
  };
}
}
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”å¿ƒæƒ…ä¼ªAIâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  const aiReplies = {
    å¼€å¿ƒ: [
      "èŒ¶æˆ¿é€äº†ä½ å–œæ¬¢çš„ç”œç‚¹æ¥ã€‚å’Œä»¥å‰ä¸€æ ·ã€‚",
      "åå›­é‚£æ ªæ™šæ¡‚å¼€äº†ï¼Œé¦™æ°”æ¸—è¿›çª—ç¼ã€‚ä½ è‹¥åœ¨ï¼Œå¤§æ¦‚ä¼šæªä¸€ç°‡å¤¹åœ¨è´¦æœ¬é‡Œã€‚",
      "å—¯ã€‚ç»§ç»­ä¿æŒã€‚"
    ],
    æƒ³ä»–: [
      "åˆšæ‰¹å®Œçš„å†›æŠ¥ç©ºç™½å¤„æ´‡äº†æ»´å¢¨ã€‚",
      "æ˜æ—¥è®©äººé€äº›çˆ±åƒçš„ç³•ç‚¹å»ï¼Œä½ æ€»åœ¨æƒ³å¿µæ—¶åƒè¿™ä¸ªã€‚",
      "å—¯ã€‚æ¸å·ä»Šæ™šæœ‰æœˆäº®ã€‚"
    ],
    éš¾è¿‡: [
      "è®©å¨æˆ¿è’¸äº†äº›ä½ çˆ±åƒçš„ç”œç‚¹ï¼Œä½ å¸¸çœ‹çš„æ ‘å¼€äº†å°èŠ±ï¼Œåé™¢çš„çŒ«ç”Ÿäº†å´½ï¼Œæœ‰åªçº¯ç™½çš„ï¼Œçœ¼ç åƒç‰ç’ƒã€‚è¦æ¥çœ‹ä¹ˆâ€¦â€¦æˆ‘å¸¦å»ç»™ä½ çœ‹å¥½ä¸å¥½ï¼Ÿ"
    ],
    æœŸå¾…: [
      "å—¯ã€‚æˆ‘ä¹ŸæœŸå¾…ï¼ŒæœŸå¾…ä¸ä½ é‡é€¢ã€‚"
    ],
    å¹¸ç¦: [
      "èŒ¶æˆ¿è¯•ç€åšäº†é…’é…¿åœ†å­ï¼Œæ¡‚èŠ±æ’’å¾—æœ‰äº›å¤šï¼Œæµ®åœ¨ç¢—æ²¿åƒä½ æçš„çœ‰ã€‚",
      "è¥¿å¢çš„ç•™å£°æœºä¿®å¥½äº†ï¼Œæ”¾çš„æ˜¯ä½ å¸¸å“¼çš„é‚£é¦–ã€‚",
      "å¤©æ™´ï¼Œæ™’è¢«å­è¯¥æ”¶å¾—æ—©äº›ã€‚",
      "ä¸€åˆ‡å®‰å¥½ï¼Œæƒ³ç€ä½ ï¼Œæˆ‘ä¾¿ä¹Ÿæ˜¯å¹¸ç¦çš„ã€‚"
    ]
  };
  document.querySelectorAll('.mood-btn').forEach(btn => {
    btn.onclick = function() {
      document.querySelectorAll('.mood-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const mood = btn.dataset.mood;
      const replies = aiReplies[mood] || ["å—¯ã€‚"];
      const reply = replies[Math.floor(Math.random() * replies.length)];
      document.getElementById('moodResult').innerText = reply;
    };
  });

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”èŠ‚æ°”æ—¥è®°å¼¹çª—â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  const festivals = [
    {
      date: "8æœˆ7æ—¥",
      title: "ç«‹ç§‹",
      content: `ä»Šæ—¥ç«‹ç§‹ï¼Œæ™¨èµ·æ—¶é£é‡Œå·²å¸¦äº†äº›è®¸å‡‰æ„ã€‚åºœé‡Œçš„è€ç®¡äº‹ç…§ä¾‹åœ¨æªä¸‹æŒ‚äº†è‰¾è‰ï¼Œè¯´æ˜¯ç¥›æš‘æ°”ï¼Œå…¶å®æš‘çƒ­æ—©æ•£äº†ã€‚è®°å¾—ä½ æ€»å«Œè‰¾è‰å‘³é“å¤ªå†²ï¼Œç»è¿‡æ—¶ä¾¿èµ°å¿«ä¸¤æ­¥ï¼Œè¡£è§’å¸¦èµ·çš„é£èƒ½æ€åŠ¨è´¦å†Œçš„çº¸é¡µã€‚
åˆé—´è·¯è¿‡åŸéšåº™ï¼Œè§äººæ’é˜Ÿä¹°ç§‹æ¢¨è†ã€‚æƒ³èµ·ä½ å…¥ç§‹å®¹æ˜“å’³ï¼Œä¾¿è®©å‰¯å®˜å»è®¢äº†äºŒåç½ã€‚è£…ç½çš„ä¼™è®¡å¤šå˜´ï¼Œé—®æ˜¯ä¸æ˜¯ç»™å†…å®…å¤ªå¤ªçš„ï¼Œæ²¡ç­”ï¼Œä»–å€’è‡ªå·±ç¬‘èµ·æ¥ï¼Œå¾€ç®±å­é‡Œå¤šå¡äº†ä¸¤æŠŠç”˜è‰ç³–ã€‚
å‚æ™šåœ¨ä¹¦æˆ¿çœ‹å…¬æ–‡ï¼Œçª—å¤–å¿½ç„¶è½äº†åœºæ€¥é›¨ã€‚ä½ æ ½çš„é‚£ç›†æ–‡ç«¹è¿˜æåœ¨çª—å°ä¸Šï¼Œæ€•æ·‹åï¼Œèµ·èº«å»å…³çª—æ—¶ï¼Œå‘ç°é›¨å·²ç»åœäº†ã€‚
ä»Šå¹´æš‘å¤©çŸ­ã€‚
ä½ é‚£è¾¹ä¹Ÿè¯¥æ·»è¡£äº†ã€‚`
    }
    // åç»­èŠ‚æ°”ç›´æ¥åŠ åœ¨è¿™é‡Œ
    {
    date: "8æœˆ23æ—¥",
      title: "å¤„æš‘",
      content: `å¤«äººï¼Œä»Šæ—¥ä¾¿åˆ°äº†å¤„æš‘ï¼Œå¤©æ°”ä¹Ÿä¼šæ…¢æ…¢å˜å‡‰ã€‚
åˆšå‡ºäº†æš‘å¤©æ°”å°šé—·çƒ­ï¼Œå°‘åƒè¥¿ç“œã€æ¨æ¡ƒè¿™äº›å‡‰æ€§é£Ÿç‰©ï¼Œåˆ‡å¿Œè´ªå˜´ã€‚
è¿™äº›å¤©é¸­å­æ­£è‚¥ç¾ï¼Œæˆ‘å·²äº¤ä»£å¨æˆ¿ä¹°äº†å‡ åªï¼Œå¤„ç†äº†ç‚–æ±¤ï¼Œæ¸…çƒ­æ¶¦ç‡¥ï¼Œä½ å¯å¤šå–äº›ã€‚è¿‡äº›å¤©å¾…æˆ‘è¿™è¾¹äº‹æƒ…å¿™å®Œï¼Œå¸¦ä½ å»ç™»é«˜èµç§‹ã€‚`
    }
  ];
  function getTodayStr() {
    const d = new Date();
    return `${d.getMonth()+1}æœˆ${d.getDate()}æ—¥`;
  }
  function showFestivalModal(festival) {
    if(localStorage.getItem("festivalClosed_" + festival.date)) return;
    if(document.getElementById("festival-modal")) return;
    const modal = document.createElement("div");
    modal.id = "festival-modal";
    modal.style.cssText = `
      position: fixed; left: 0; top: 0; right: 0; bottom: 0; 
      background: rgba(0,0,0,0.4); display: flex; 
      align-items: center; justify-content: center; z-index: 9999;
    `;
    modal.innerHTML = `
      <div style="background: #fff; border-radius: 12px; max-width: 90vw; width: 340px; padding: 28px 20px; box-shadow: 0 8px 32px rgba(0,0,0,0.15); position:relative;">
        <div style="font-size: 22px; font-weight: bold; text-align: center; color:#e2774b; margin-bottom:12px;">ä»Šæ—¥${festival.title}</div>
        <div style="font-size: 15px; color: #444; white-space: pre-line; margin-bottom:22px;">${festival.content}</div>
        <div style="display:flex; justify-content: space-between;">
          <button id="close-festival-modal" style="flex:1; background:#f2f2f2; border:none; border-radius:7px; padding:7px 0; margin-right:8px; font-size:15px;">å…³é—­</button>
          <button id="festival-no-more-today" style="flex:1; background:#e6b065; color:white; border:none; border-radius:7px; padding:7px 0; font-size:15px;">ä»Šæ—¥ä¸å†æé†’</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    document.getElementById("close-festival-modal").onclick = () => {
      document.body.removeChild(modal);
    };
    document.getElementById("festival-no-more-today").onclick = () => {
      localStorage.setItem("festivalClosed_" + festival.date, "1");
      document.body.removeChild(modal);
    };
  }
  // é¡µé¢åˆå§‹æ—¶æ£€æŸ¥æ˜¯å¦æœ‰èŠ‚æ°”å¼¹çª—
  const today = getTodayStr();
  const todayFestival = festivals.find(f => f.date === today);
  if(todayFestival){
    showFestivalModal(todayFestival);
  }

  // åˆå§‹å°é¸Ÿ
  updateBird("hasMail");
};
  
